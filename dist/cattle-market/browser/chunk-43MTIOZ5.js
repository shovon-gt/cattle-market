import{a as A}from"./chunk-MB5DUKNE.js";import{$ as E,B as g,D as m,F as i,G as a,I as x,J as d,K as S,L as r,M as o,O as y,P as _,S as h,Y as w,Z as I,ca as F,n as v,o as f,t as n,v as s,w as b,z as C}from"./chunk-JFN6R3KG.js";var p=class l{transform(e){let t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"Invalid Price":t.toFixed(2)}static \u0275fac=function(t){return new(t||l)};static \u0275pipe=C({name:"price",type:l,pure:!0})};function N(l,e){if(l&1){let t=x();i(0,"div",5)(1,"div",6)(2,"div",7)(3,"h5",8),r(4),a(),i(5,"p",9),r(6),a(),i(7,"p",9),r(8),a(),i(9,"p",9),r(10),y(11,"price"),a(),i(12,"span",10),r(13),a(),i(14,"button",11),d("click",function(){let u=v(t).$implicit,P=S();return f(P.toggleAvailability(u))}),r(15),a()()()()}if(l&2){let t=e.$implicit;n(4),o("Breed: ",t.breed,""),n(2),o("ID: ",t.id,""),n(2),o("Weight: ",t.weight," kg"),n(2),o("Price: $",_(11,7,t.price),""),n(2),m("ngClass",t.available?"bg-success":"bg-secondary"),n(),o(" ",t.available?"Available":"Sold Out"," "),n(2),o(" Mark as ",t.available?"Sold":"Available"," ")}}var L=class l{constructor(e,t,c){this.http=e;this.cattleService=t;this.router=c;this.fetchCattle()}cattleList=[];CattleAdd(){this.router.navigate(["/add-cattle"])}fetchCattle(){this.cattleService.getCattle().subscribe({next:e=>this.cattleList=e,error:()=>alert("Failed to fetch cattle!")})}toggleAvailability(e){let t=!e.available;this.cattleService.updateCattleAvailability(e.id,t).subscribe({next:()=>{e.available=t},error:c=>{console.error("Failed to update cattle status",c),alert("Something went wrong. Try again.")}})}static \u0275fac=function(t){return new(t||l)(s(h),s(A),s(F))};static \u0275cmp=b({type:l,selectors:[["app-cattle-list"]],decls:7,vars:1,consts:[[1,"container","py-5"],[1,"text-center","mb-4"],["type","submit",1,"btn","btn-success","mb-3",3,"click"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","h-100","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"card-text","mb-1"],[1,"badge","mb-2",3,"ngClass"],[1,"btn","btn-outline-primary","btn-sm","w-100",3,"click"]],template:function(t,c){t&1&&(i(0,"div",0)(1,"h2",1),r(2,"Available Cattle"),a(),i(3,"button",2),d("click",function(){return c.CattleAdd()}),r(4," + Add New Cattle "),a(),i(5,"div",3),g(6,N,16,9,"div",4),a()()),t&2&&(n(6),m("ngForOf",c.cattleList))},dependencies:[E,w,I,p],encapsulation:2})};export{L as CattleListComponent};
